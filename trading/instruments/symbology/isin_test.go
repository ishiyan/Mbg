//nolint:testpackage
package symbology

// Useful link to verify ISINs: https://www.isindb.com/validate-isin/.

import (
	"testing"
)

//nolint:funlen
func TestValidateISIN(t *testing.T) {
	t.Parallel()

	tests := []struct {
		isin  string
		valid bool
	}{
		{"", false},
		{"Z", false},
		{"ZZ", false},

		// https://www.isin.ru/en/foreign_isin/db/index.php#search_rezult
		{"AEDFXA14NUL7", true}, // Missing AD, AF, I]AI, AL, AO, AQ, AS, AW.
		{"AEDFXA0M6V00", true},
		{"AGP8696W1045", true},
		{"AG", false},
		{"AMFFCTS10ER7", true},
		{"AMGB1029A250", true},
		{"ANN4327C1220", true},
		{"AN8068571086", true},
		{"ARGCLA010015", true},
		{"ARP2354W1188", true},
		{"ATCAIMMOINT5", true},
		{"AT0000BAWAG2", true},
		{"AU3FN0057790", true},
		{"AU000ZSIKCA3", true},
		{"AZ1001000970", true},
		{"AZ1003002024", true},
		{"BA100RFUMRA7", true}, // Missing BI, BJ, BN, BO, BT, BV, BW.
		{"BABSNLR00005", true},
		{"BBP8264S1054", true},
		{"BB", false},
		{"BD0112EBL007", true},
		{"BD0129EXIMB2", true},
		{"BE0974269012", true},
		{"BE0946377455", true},
		{"BF0000000117", true},
		{"BF", false},
		{"BG11ZMYKAT18", true},
		{"BG11EMTOAT16", true},
		{"BH0060713458", true},
		{"BH000A0CAQK6", true},
		{"BMG9156K1018", true},
		{"BMG0702P1086", true},
		{"BRBBASACNOR3", true},
		{"BRSUZBACNOR0", true},
		{"BSP943981071", true},
		{"BSP3906K1157", true},
		{"BY000A0NE5H6", true},
		{"BYN000000347", true},
		{"BZP94355AA59", true},
		{"BZP1000B1067", true},
		{"CA4433003064", true}, // Missing CC, CD, CF, CK, CR, CU, CV, CX.
		{"CA74375L1058", true},
		{"CG000A0BKQF7", true},
		{"CG", false},
		{"CH0451123589", true},
		{"CH0120879058", true},
		{"CI0000000592", true},
		{"CI0000053161", true},
		{"CL0002409135", true},
		{"CLP371861061", true},
		{"CM0000035113", true},
		{"CM", false},
		{"CNE000001MT9", true},
		{"CND100006HP7", true},
		{"COB07PA00037", true},
		{"COC04PA00016", true},
		{"CY0108052115", true},
		{"CY0101162119", true},
		{"CZ0009093209", true},
		{"CZ0005123687", true},
		{"DE000A11Q133", true}, // Missing DJ, DM, DO, DZ.
		{"DE000ENAG999", true},
		{"DK0060945467", true},
		{"DK0061412772", true},
		{"EE3100056847", true}, // Missing EC, ER, ET.
		{"EE4300108859", true},
		{"EGS380P1C010", true},
		{"EGG676K1D011", true},
		{"ES0105478004", true},
		{"ES0113211835", true},
		{"EU000A0VUCF1", true},
		{"EU000A1G0AF5", true},
		{"FI0001005704", true}, // Missing FJ, FM.
		{"FI4000020961", true},
		{"FK00B030JM18", true},
		{"FK", false},
		{"FO0000000179", true},
		{"FO", false},
		{"FR0011038348", true},
		{"FR0014003PZ3", true},
		{"GA0000121459", true}, // Missing GD, GL, GM, GN, GQ, GS, GT, GU, GW, GY.
		{"GA", false},
		{"GB00BYWF9Y76", true},
		{"GB00BQQFX454", true},
		{"GETC21711295", true},
		{"GETC21428148", true},
		{"GG00B1DVQL92", true},
		{"GG00BKMDXV83", true},
		{"GH0000000698", true},
		{"GH", false},
		{"GI000A0ERMF2", true},
		{"GI000A0NAYE7", true},
		{"GRS182213009", true},
		{"GRC4951193D4", true},
		{"HK0000038783", true}, // Missing HM, HN, HT.
		{"HK0235034623", true},
		{"HRKORFRA0007", true},
		{"HRSUNHRA0003", true},
		{"HU0000360474", true},
		{"HU0000089867", true},
		{"ID1000053705", true}, // Missing IO, IQ.
		{"ID1000109606", true},
		{"IE00BF0L3536", true},
		{"IE00BWY4ZF18", true},
		{"IL0011691438", true},
		{"IL0010826506", true},
		{"IM00B1FW3316", true},
		{"IM00BCZT4922", true},
		{"IN0019790024", true},
		{"IN0020019017", true},
		{"IRO1FOLD0009", true},
		{"IR", false},
		{"IS0000020386", true},
		{"IS0000013175", true},
		{"IT0004812258", true},
		{"IT0005398877", true},
		{"JE00B1FBT077", true}, // Missing JM.
		{"JE00B78CGV99", true},
		{"JO1100411015", true},
		{"JO", false},
		{"JP3044520009", true},
		{"JP90B0049BP6", true},
		{"KE5000003656", true}, // Missing KH, KI, KM, KN, KP.
		{"KE1000001360", true},
		{"KG000A0NE5G9", true},
		{"KG000A2DNM56", true},
		{"KR7005380001", true},
		{"KR7068270008", true},
		{"KW0EQ0601132", true},
		{"KW0EQ0500813", true},
		{"KY04316G1057", true},
		{"KYG7153K1085", true},
		{"KZ000A0TZXJ8", true},
		{"KZ000A0T9S67", true},
		{"LB0000033441", true}, // Missing LA, LC, LS, LY.
		{"LB0000010415", true},
		{"LI0354232246", true},
		{"LI0135665227", true},
		{"LK0092N00003", true},
		{"LK", false},
		{"LR000A0D81P7", true},
		{"LR0008764684", true},
		{"LTIF00000658", true},
		{"LT0000128621", true},
		{"LU1789205884", true},
		{"LU0097891112", true},
		{"LV0000880060", true},
		{"LV0000801777", true},
		{"MA0000011488", true}, // Missing ME, MG, MK, ML, MM, MN, MO, MP, MR, MS, MV, MZ.
		{"MA", false},
		{"MC0000031187", true},
		{"MC0010000826", true},
		{"MD0000000199", true},
		{"MD0000000033", true},
		{"MH69913R4083", true},
		{"MHY641771016", true},
		{"MT0001710103", true},
		{"MT0000011982", true},
		{"MU0259I00005", true},
		{"MU0049N00000", true},
		{"MW000A1C5ME4", true},
		{"MW0009107265", true},
		{"MX01WA000038", true},
		{"MX01HO000007", true},
		{"MYL7106OO007", true},
		{"MYBMX1700033", true},
		{"NA000A1T6SV9", true}, // Missed NC, NE, NF, NI, NP, NR, NU.
		{"NA0003475176", true},
		{"NGAFRINSURE4", true},
		{"NGSDAFRLAND2", true},
		{"NL0000852564", true},
		{"NL0009767532", true},
		{"NO0010672181", true},
		{"NO0010844038", true},
		{"NSCEX0000018", true},
		{"NZARRE0004S7", true},
		{"NZVNLE0001S1", true},
		{"PAL634445OA2", true}, // Missed ON, PF, PM, PN, PS, PW, PY.
		{"PA9691991087", true},
		{"PEP736581005", true},
		{"PEP612001003", true},
		{"PG0000000631", true},
		{"PG000A143KS8", true},
		{"PHY5369R1078", true},
		{"PHY0632B1128", true},
		{"PK0107501014", true},
		{"PK0107501014", true},
		{"PLBIOTN00029", true},
		{"PLBUDMX00013", true},
		{"PTCUR0AP0000", true},
		{"PTBCP0AM0015", true},
		{"QA000A0KD6L1", true}, // Missed QQ, QR, QT, QU, QV, QW, QY, QZ.
		{"QA0007227695", true},
		{"QS0011224977", true},
		{"QS0011179239", true},
		{"QX0000022625", true},
		{"QX", false},
		{"RO1ZD96WS646", true},
		{"RO1419DBE013", true},
		{"RU000A0JQ6D1", true},
		{"RU000A1034L6", true},
		{"RW000A1JCYA5", true},
		{"RW000A14UYP4", true},
		{"SA000A0HNF36", true}, // Missing SB, SD, SH, SL, SM, SO, SR, ST, SV, SY, SZ.
		{"SA0007879469", true},
		{"SC000A1C0B46", true},
		{"SC000A0Q9YD6", true},
		{"SE0014731154", true},
		{"SE0007045380", true},
		{"SGXZ80461361", true},
		{"SG1C19013145", true},
		{"SI0032104059", true},
		{"SI0002103388", true},
		{"SK4120013038", true},
		{"SK4000018958", true},
		{"SN0000033192", true},
		{"SN0000000019", true},
		{"SSDF00001804", true},
		{"SSDF00002836", true},
		{"TG0000000132", true}, // Missing TC, TD, TF, TK, TL, TM, TO, TT, TV.
		{"TG", false},
		{"TH0133010Z09", true},
		{"TH1027010012", true},
		{"TJ000A1C4XB0", true},
		{"TJ", false},
		{"TN0007670011", true},
		{"TN0007530017", true},
		{"TRAARCLK91H5", true},
		{"TREDZBK00015", true},
		{"TW000T3201Y8", true},
		{"TW000F030028", true},
		{"TZ1996100305", true},
		{"TZ1996100016", true},
		{"UA4000117501", true}, // Missing UM, UY.
		{"UA0104141009", true},
		{"UG0000001145", true},
		{"UG0000000386", true},
		{"USQ08328AA64", true},
		{"US63253WAH43", true},
		{"UZ0000000G88", true},
		{"UZ00000002G5", true},
		{"VGG5258K1066", true}, // Missing VA, VC, VE, VN, VU.
		{"VGG5520W1023", true},
		{"VI02153X1080", true},
		{"VI", false},
		{"XC0002997887", true}, // Missing WF, WS, XA, XB, XF, XK, XL.
		{"XC0006140054", true},
		{"XD0043914767", true},
		{"XD0039542192", true},
		{"XS2337099563", true},
		{"XS1395057430", true},
		{"ZAU000014557", true}, // Missing YE, YT.
		{"ZAE000017745", true},
		{"ZM0000000037", true},
		{"ZM0000000375", true},
		{"ZW0009012262", true},
		{"ZW0009011025", true},
	}

	for _, tt := range tests {
		exp := tt.valid
		err := ISIN(tt.isin).Validate()
		act := err == nil

		if exp != act {
			t.Errorf("ISIN.Validate(%v): expected %v, actual %v (%v)", tt.isin, exp, act, err)
		}
	}
}

//nolint:funlen
func TestValidateCheckDigitISIN(t *testing.T) {
	t.Parallel()

	tests := []struct {
		isin  string
		valid bool
	}{
		{"@U0000XVGZA3", false},
		{"A@0000XVGZA3", false},
		{"AU@000XVGZA3", false},
		{"AU0000XVGZA", false},
		{"US0378331005", true},
		{"ZS0378331005", false},
		{"UZ0378331005", false},
		{"USZ378331005", false},
		{"US0Z78331005", false},
		{"US03Z8331005", false},
		{"US037Z331005", false},
		{"US0378Z31005", false},
		{"US03783Z1005", false},
		{"US037833X005", false},
		{"US0378331Z05", false},
		{"US03783310Z5", false},
		{"US037833100Z", false},
		{"US0378331004", false},

		// https://www.cdbl.com.bd/isin_details.php
		{"BD8601NAL004", true},
		{"BD7004PALGB0", true},
		{"BD7003IBBSB1", true},
		{"BD0274BBL001", true},
		{"BD0643IAIL08", true},
		{"BD4056UAFMF4", true},
		{"BD0750DGICL2", true},
		{"BD7002DBBSB4", true},
		{"BD0148NRBCB1", true},
		{"BD4055IASUF7", true},
		{"BD0323LUBRF7", true},
		{"BD4054CISUF6", true},
		{"BD0652EGENL4", true},
		{"BD4053SAIUF2", true},
		{"BD0296TFAIL8", true},
		{"BD7001SEBSB8", true},
		{"BD0250MAHL07", true},
		{"BD4052VIPBF6", true},
		{"BD0322EPGL05", true},
		{"BD0003ROBI07", true},
		{"BD0749CICL05", true},
		{"BD4051LBGOF6", true},
		{"BD0249DSBSL1", true},
		{"BD4050ASSGF6", true},
		{"BD0321AOL005", true},
		{"BD4049CWSBF7", true},
		{"BD0248WHIL02", true},
		{"BD4048EBUF14", true},
		{"BD0748EIL003", true},
		{"BD4047EFUF03", true},
		{"BD0503SONPP0", true},
		{"BD4046PBF001", true},
		{"BD4045CPLUF4", true},
		{"BD6004APSCL4", true},
		{"BD0651ADNTL9", true},
		{"BD4044IAMSF8", true},
		{"BD0483RSTL07", true},
		{"BD4043CUF006", true},
		{"BD4042EAGF01", true},
		{"BD4041EIAUF7", true},
		{"BD4040CEBGF9", true},
		{"BD0247CTIL03", true},
		{"BD4039AAMUF1", true},
		{"BD0004SPBRS1", true},
		{"BD0495SILCO6", true},
		{"BD0482NLCL08", true},
		{"BD0246RAL007", true},
		{"BD0481EKCL01", true},
		{"BD0203SEFGF4", true},
		{"BD4038SASF07", true},
		{"BD0650GIL006", true},
		{"BD0245SSSTL9", true},
		{"BD4037NRBUF5", true},
		{"BD4036VAGF08", true},
		{"BD4035HFAUF8", true},
		{"BD0480KTL007", true},
		{"BD0494IBPL08", true},
		{"BD0493SPL001", true},
		{"BD4034CPSUF3", true},
		{"BD0479MLDL03", true},
		{"BD4033EDBUF3", true},
		{"BD0478VFSTD4", true},
		{"BD4032UBAUF7", true},
		{"BD0477AMCFL2", true},
		{"BD0642SKTIL5", true},
		{"BD4031ZAIF07", true},
		{"BD0512BPML00", true},
		{"BD4030IDGF08", true},
		{"BD0320IRSL07", true},
		{"BD0492ADVPL9", true},
		{"BD4029VIPGF3", true},
		{"BD4028BCIGF5", true},
		{"BD4027SFIUF5", true},
		{"BD4026LASUF2", true},
		{"BD0476QSTML7", true},
		{"BD4025CFSUF2", true},
		{"BD0202CMIBF8", true},
		{"BD4024HFAML7", true},
		{"BD0436SJKNT6", true},
		{"BD0244NACPL3", true},
		{"BD0243OEL003", true},
		{"BD4023PSBUF8", true},
		{"BD0201IABMF4", true},
		{"BD0649ANL001", true},
		{"BD4022IDBUF7", true},
		{"BD0242BBSCL4", true},
		{"BD4020UIBUF5", true},
		{"BD4021NIBUF8", true},
		{"BD0475NDSL09", true},
		{"BD4019CFGF07", true},
		{"BD4018UPLUF3", true},
		{"BD4017PFSMF8", true},
		{"BD40168IUF01", true},
		{"BD0474SIL006", true},
		{"BD0200SEIBF5", true},
		{"BD0473PDL005", true},
		{"BD0199CMBDF7", true},
		{"BD0198VRBBF2", true},
		{"BD40157IUF04", true},
		{"BD4014ATCSU8", true},
		{"BD4013LBBUF4", true},
		{"BD4012UPLIF1", true},
		{"BD0637FRSL08", true},
		{"BD4011ICLBF1", true},
		{"BD40106IUF06", true},
		{"BD0241YPL002", true},
		{"BD4009FIIUF4", true},
		{"BD4008FOIUF4", true},
		{"BD4007TICUF2", true},
		{"BD0472ETL007", true},
		{"BD4006VAIUF4", true},
		{"BD0491ACME00", true},
		{"BD4005SICUF8", true},
		{"BD4004FICUF8", true},
		{"BD0747BNICL8", true},
		{"BD4003UPLUF5", true},
		{"BD0319DPGSL7", true},
		{"BD0471DSSL08", true},
		{"BD0197VBDF11", true},
		{"BD0196SELEF3", true},
		{"BD0648ITCL08", true},
		{"BD0470RTML08", true},
		{"BD0469SIMTX4", true},
		{"BD0240KDSAL9", true},
		{"BD0641AFL004", true},
		{"BD0239OAL009", true},
		{"BD0468TIL006", true},
		{"BD0238BDSRM4", true},
		{"BD0505MPMC07", true},
		{"BD4002RLIUF8", true},
		{"BD0318UPGDC4", true},
		{"BD0195ATSLF1", true},
		{"BD0467ZSL004", true},
		{"BD0466SDL003", true},
		{"BD0237IFADA9", true},
		{"BD0465CATEX0", true},
		{"BD0640NFML03", true},
		{"BD0464HFL006", true},
		{"BD0639KBPWB7", true},
		{"BD0236WMSHL8", true},
		{"BD0506PAPPL2", true},
		{"BD0623SPTEC2", true},
		{"BD0235RSRM09", true},
		{"BD0234SIL004", true},
		{"BD0463THKDL0", true},
		{"BD0462FEKDL8", true},
		{"BD0511KPPL07", true},
		{"BD0317SBPCL4", true},
		{"BD0490FCIL03", true},
		{"BD0003TPCL08", true},
		{"BD0461HWTL09", true},
		{"BD0460MSML06", true},
		{"BD0295EOIL07", true},
		{"BD0615HIMAD7", true},
		{"BD0489AFCAB3", true},
		{"BD0459MHSML7", true},
		{"BD0233AICL00", true},
		{"BD0458PTL002", true},
		{"BD5002CSE008", true},
		{"BD5001DSE008", true},
		{"BD4001MTBUF9", true},
		{"BD0232BBSL09", true},
		{"BD0023FFIL06", true},
		{"BD0487CPL007", true},
		{"BD0194EXIM15", true},
		{"BD0457FAMTX3", true},
		{"BD0193ISMF12", true},
		{"BD0231BWTL04", true},
		{"BD0486OPL004", true},
		{"BD0485GHCL00", true},
		{"BD0294GHAIL6", true},
		{"BD0645PCML09", true},
		{"BD0456ARGDL1", true},
		{"BD0746SLIC00", true},
		{"BD0455ENVTX4", true},
		{"BD0454GNFL06", true},
		{"BD0000JBCL09", true},
		{"BD0252ATMC02", true},
		{"BD0647AAMRA2", true},
		{"BD0002UNQHR7", true},
		{"BD0453SCOT07", true},
		{"BD0002BSCCL0", true},
		{"BD0315GBBPL5", true},
		{"BD0192NCCF16", true},
		{"BD0223WNTOY1", true},
		{"BD0230GPHIL8", true},
		{"BD0745PILIF5", true},
		{"BD0149GSPFC2", true},
		{"BD0191BFIF12", true},
		{"BD0190NLIF11", true},
		{"BD0189ABMF15", true},
		{"BD0293RDFPL8", true},
		{"BD0452ZAHIN6", true},
		{"BD0467WATA03", true},
		{"BD0419TJTEX2", true},
		{"BD0623LEXCO2", true},
		{"BD0188LRMF15", true},
		{"BD0187RIMF11", true},
		{"BD0313MJLBD7", true},
		{"BD0185SEBF19", true},
		{"BD0186ENRB19", true},
		{"BD0313BELDL0", true},
		{"BD0644MICEM1", true},
		{"BD0484SALVO7", true},
		{"BD0184MBLF17", true},
		{"BD0552BSERV7", true},
		{"BD0440ALTEX4", true},
		{"BD0215RNWIC9", true},
		{"BD0279SHYAM7", true},
		{"BD0634SLCL00", true},
		{"BD0357NJUTE3", true},
		{"BD0413MODDY4", true},
		{"BD0441ANLYN4", true},
		{"BD0472ORINF6", true},
		{"BD0266ZEALB6", true},
		{"BD0229DBPLY7", true},
		{"BD0183AIBF17", true},
		{"BD0182PHPF16", true},
		{"BD0465RCHEM2", true},
		{"BD0483ACFCH9", true},
		{"BD0181IIMF18", true},
		{"BD0180PLMF15", true},
		{"BD0606MNCR02", true},
		{"BD0221ANGAL4", true},
		{"BD0209MONST3", true},
		{"BD0474IMBUT6", true},
		{"BD0278DHFSH2", true},
		{"BD0630NILCM3", true},
		{"BD0179GDMF19", true},
		{"BD0178JBMF19", true},
		{"BD0626STDCR3", true},
		{"BD0445SAFCO0", true},
		{"BD0611SAVAR1", true},
		{"BD0269CVOIL9", true},
		{"BD0213BDAUT4", true},
		{"BD0471LBINF8", true},
		{"BD0442HRTEX2", true},
		{"BD0482BECON5", true},
		{"BD0451MALSP2", true},
		{"BD0287MEGPT0", true},
		{"BD0636LFL001", true},
		{"BD0463KOHCH1", true},
		{"BD0637MIRCL9", true},
		{"BD0439MNFAB0", true},
		{"BD0415DSHGR7", true},
		{"BD0360SONAN2", true},
		{"BD0444CMC004", true},
		{"BD0001UTDAR9", true},
		{"BD0434PRTEX2", true},
		{"BD0281RAHFD3", true},
		{"BD0634RAKCR4", true},
		{"BD0305BWEL02", true},
		{"BD0177INRB32", true},
		{"BD0176PHMF17", true},
		{"BD0510HPPML6", true},
		{"BD0312KPCL03", true},
	}

	for _, tt := range tests {
		exp := tt.valid
		err := ISIN(tt.isin).ValidateCheckDigit()
		act := err == nil

		if exp != act {
			t.Errorf("ISIN.ValidateCheckDigit(%v): expected %v, actual %v (%v)", tt.isin, exp, act, err)
		}
	}
}

func TestCalculateCheckDigitISIN(t *testing.T) {
	t.Parallel()

	_, err := ISIN("au0000xvgz").CalculateCheckDigit()
	if err == nil {
		t.Error("ISIN.CalculateCheckDigit() has no error")
	}
}

//nolint:funlen
func TestValidateCountryISIN(t *testing.T) {
	t.Parallel()

	tests := []struct {
		country string
		valid   bool
	}{
		{"", false},
		{"Z", false},
		{"ZZ", false},
		{"AD", true},
		{"AE", true},
		{"AF", true},
		{"AG", true},
		{"AI", true},
		{"AL", true},
		{"AM", true},
		{"AN", true},
		{"AO", true},
		{"AQ", true},
		{"AR", true},
		{"AS", true},
		{"AT", true},
		{"AU", true},
		{"AW", true},
		{"AZ", true},
		{"BA", true},
		{"BB", true},
		{"BD", true},
		{"BE", true},
		{"BF", true},
		{"BG", true},
		{"BH", true},
		{"BI", true},
		{"BJ", true},
		{"BM", true},
		{"BN", true},
		{"BO", true},
		{"BR", true},
		{"BS", true},
		{"BT", true},
		{"BV", true},
		{"BW", true},
		{"BY", true},
		{"BZ", true},
		{"CA", true},
		{"CC", true},
		{"CD", true},
		{"CF", true},
		{"CG", true},
		{"CH", true},
		{"CI", true},
		{"CK", true},
		{"CL", true},
		{"CM", true},
		{"CN", true},
		{"CO", true},
		{"CR", true},
		{"CU", true},
		{"CV", true},
		{"CX", true},
		{"CY", true},
		{"CZ", true},
		{"DE", true},
		{"DJ", true},
		{"DK", true},
		{"DM", true},
		{"DO", true},
		{"DZ", true},
		{"EC", true},
		{"EE", true},
		{"EG", true},
		{"ER", true},
		{"ES", true},
		{"ET", true},
		{"EU", true},
		{"FI", true},
		{"FJ", true},
		{"FK", true},
		{"FM", true},
		{"FO", true},
		{"FR", true},
		{"GA", true},
		{"GB", true},
		{"GD", true},
		{"GE", true},
		{"GG", true},
		{"GH", true},
		{"GI", true},
		{"GL", true},
		{"GM", true},
		{"GN", true},
		{"GQ", true},
		{"GR", true},
		{"GS", true},
		{"GT", true},
		{"GU", true},
		{"GW", true},
		{"GY", true},
		{"HK", true},
		{"HM", true},
		{"HN", true},
		{"HR", true},
		{"HT", true},
		{"HU", true},
		{"ID", true},
		{"IE", true},
		{"IL", true},
		{"IM", true},
		{"IN", true},
		{"IO", true},
		{"IQ", true},
		{"IR", true},
		{"IS", true},
		{"IT", true},
		{"JE", true},
		{"JM", true},
		{"JO", true},
		{"JP", true},
		{"KE", true},
		{"KG", true},
		{"KH", true},
		{"KI", true},
		{"KM", true},
		{"KN", true},
		{"KP", true},
		{"KR", true},
		{"KW", true},
		{"KY", true},
		{"KZ", true},
		{"LA", true},
		{"LB", true},
		{"LC", true},
		{"LI", true},
		{"LK", true},
		{"LR", true},
		{"LS", true},
		{"LT", true},
		{"LU", true},
		{"LV", true},
		{"LY", true},
		{"MA", true},
		{"MC", true},
		{"MD", true},
		{"ME", true},
		{"MG", true},
		{"MH", true},
		{"MK", true},
		{"ML", true},
		{"MM", true},
		{"MN", true},
		{"MO", true},
		{"MP", true},
		{"MR", true},
		{"MS", true},
		{"MT", true},
		{"MU", true},
		{"MV", true},
		{"MW", true},
		{"MX", true},
		{"MY", true},
		{"MZ", true},
		{"NA", true},
		{"NC", true},
		{"NE", true},
		{"NF", true},
		{"NG", true},
		{"NI", true},
		{"NL", true},
		{"NO", true},
		{"NP", true},
		{"NR", true},
		{"NS", true},
		{"NU", true},
		{"NZ", true},
		{"OM", true},
		{"PA", true},
		{"PE", true},
		{"PF", true},
		{"PG", true},
		{"PH", true},
		{"PK", true},
		{"PL", true},
		{"PM", true},
		{"PN", true},
		{"PS", true},
		{"PT", true},
		{"PW", true},
		{"PY", true},
		{"QA", true},
		{"QQ", true},
		{"QR", true},
		{"QS", true},
		{"QT", true},
		{"QU", true},
		{"QV", true},
		{"QW", true},
		{"QX", true},
		{"QY", true},
		{"QZ", true},
		{"RO", true},
		{"RU", true},
		{"RW", true},
		{"SA", true},
		{"SB", true},
		{"SC", true},
		{"SD", true},
		{"SE", true},
		{"SG", true},
		{"SH", true},
		{"SI", true},
		{"SK", true},
		{"SL", true},
		{"SM", true},
		{"SN", true},
		{"SO", true},
		{"SR", true},
		{"SS", true},
		{"ST", true},
		{"SV", true},
		{"SY", true},
		{"SZ", true},
		{"TC", true},
		{"TD", true},
		{"TF", true},
		{"TG", true},
		{"TH", true},
		{"TJ", true},
		{"TK", true},
		{"TL", true},
		{"TM", true},
		{"TN", true},
		{"TO", true},
		{"TR", true},
		{"TT", true},
		{"TV", true},
		{"TW", true},
		{"TZ", true},
		{"UA", true},
		{"UG", true},
		{"UM", true},
		{"US", true},
		{"UY", true},
		{"UZ", true},
		{"VA", true},
		{"VC", true},
		{"VE", true},
		{"VG", true},
		{"VI", true},
		{"VN", true},
		{"VU", true},
		{"WF", true},
		{"WS", true},
		{"XA", true},
		{"XB", true},
		{"XC", true},
		{"XD", true},
		{"XF", true},
		{"XK", true},
		{"XL", true},
		{"XS", true},
		{"YE", true},
		{"YT", true},
		{"ZA", true},
		{"ZM", true},
		{"ZW", true},
		{"AK", false},
		{"BK", false},
		{"CJ", false},
		{"DI", false},
		{"EK", false},
		{"FL", false},
		{"GK", false},
		{"HL", false},
		{"JK", false},
		{"IK", false},
		{"KK", false},
		{"LL", false},
		{"MJ", false},
		{"NK", false},
		{"OK", false},
		{"PJ", false},
		{"QK", false},
		{"RK", false},
		{"SJ", false},
		{"TI", false},
		{"UK", false},
		{"VK", false},
		{"WK", false},
		{"XJ", false},
		{"YJ", false},
		{"ZJ", false},
	}

	for _, tt := range tests {
		exp := tt.valid
		act := ISIN(tt.country).ValidateCountry()

		if exp != act {
			t.Errorf("ISIN.ValidateCountry(%v): expected %v, actual %v", tt.country, exp, act)
		}
	}
}
